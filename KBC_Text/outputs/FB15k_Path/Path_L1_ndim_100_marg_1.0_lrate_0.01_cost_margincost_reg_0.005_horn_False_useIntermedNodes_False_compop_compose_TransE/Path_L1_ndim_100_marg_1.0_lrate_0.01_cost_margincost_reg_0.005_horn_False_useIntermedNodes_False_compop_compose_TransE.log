2017-04-26 01:17:11,133 INFO: logger initialized for experiment identifier: Path_L1_ndim_100_marg_1.0_lrate_0.01_cost_margincost_reg_0.005_horn_False_useIntermedNodes_False_compop_compose_TransE
2017-04-26 01:17:11,133 INFO: identifier: Path_L1_ndim_100_marg_1.0_lrate_0.01_cost_margincost_reg_0.005_horn_False_useIntermedNodes_False_compop_compose_TransE
2017-04-26 01:17:11,133 INFO: models saved to path: /Users/corbinrosset/Dropbox/Arora/QA-code/src/KBC_Text/outputs/FB15k_Path/
2017-04-26 01:17:11,133 INFO: DD{'ndim': 100, 'test_all': 10, 'Nsyn_rel': 1345, 'graph_files': ['length_2_numPaths_50000000', 'length_3_numPaths_50000000'], 'nvalid': 1000, 'seed': 123, 'simfn': 'L1', 'nbatches': 100, 'lrparam': 0.01, 'loademb': '/Users/corbinrosset/Dropbox/Arora/QA-code/src/KBC_Text/outputs/FB15k_TransE/BEST_TransE_L1_ndim_100_marg_1.5_lrate_0.01_cost_margincost_reg_0.01_REL/best_valid_model.pkl', 'datapath': '/Users/corbinrosset/Dropbox/Arora/QA-code/src/KBC_Text/data/', 'compop': 'compose_TransE', 'Nrel': 1345, 'rel': False, 'Nent': 14951, 'logger': <logging.RootLogger object at 0x109a90110>, 'Nsyn': 14951, 'reg': 0.005, 'useHornPaths': False, 'dataset': 'FB15k', 'bestvalidMRR': -1, 'loadmodel': False, 'needIntermediateNodesOnPaths': False, 'savepath': '/Users/corbinrosset/Dropbox/Arora/QA-code/src/KBC_Text/outputs/FB15k_Path/Path_L1_ndim_100_marg_1.0_lrate_0.01_cost_margincost_reg_0.005_horn_False_useIntermedNodes_False_compop_compose_TransE', 'marge': 1.0, 'margincostfunction': 'margincost', 'lremb': 0.01, 'identifier': 'Path_L1_ndim_100_marg_1.0_lrate_0.01_cost_margincost_reg_0.005_horn_False_useIntermedNodes_False_compop_compose_TransE', 'ntrain': 1000, 'experiment_type': 'FB15k_path_exp', 'totepochs': 500, 'ntest': 1000}
2017-04-26 01:17:11,133 INFO: initializing graph
2017-04-26 01:17:12,880 INFO: loaded FB15k data in: 1.725928 seconds
2017-04-26 01:17:12,882 INFO: loading length_2_numPaths_50000000_train.path file
2017-04-26 01:17:18,157 INFO: loading length_2_numPaths_50000000_dev.path file
2017-04-26 01:17:18,210 INFO: loading length_2_numPaths_50000000_test.path file
2017-04-26 01:17:18,256 INFO: loading length_3_numPaths_50000000_train.path file
2017-04-26 01:17:23,761 INFO: loading length_3_numPaths_50000000_dev.path file
2017-04-26 01:17:23,815 INFO: loading length_3_numPaths_50000000_test.path file
2017-04-26 01:17:23,907 DEBUG: FB15kexp_path: training paths: [(100000, 2), (100000, 3)], dev paths: [(1000, 2), (1000, 3)]
2017-04-26 01:17:23,908 INFO: INITIALIZING EMBEDDINGS FROM MODEL
2017-04-26 01:17:23,908 INFO: loading embeddings from /Users/corbinrosset/Dropbox/Arora/QA-code/src/KBC_Text/outputs/FB15k_TransE/BEST_TransE_L1_ndim_100_marg_1.5_lrate_0.01_cost_margincost_reg_0.01_REL/best_valid_model.pkl
2017-04-26 01:17:27,202 DEBUG: loaded data, constructed model, constructed graph...
2017-04-26 01:17:27,202 DEBUG: num epochs: 500
2017-04-26 01:17:27,202 DEBUG: num batches per epoch: 100
2017-04-26 01:17:27,202 DEBUG: batchsize: 1000
2017-04-26 01:17:27,202 DEBUG: left and right entity ranking functions will rank a slot against 14951 competitors
2017-04-26 01:17:27,202 INFO: --------------------------------------------------------------------------------------------------
2017-04-26 01:17:27,202 INFO: Since we initialized embeddings with pre-trained vectors, establish baseline of their performance:
2017-04-26 01:17:27,203 INFO: 	FilteredRanking: evaluating rank on 1000 triples
2017-04-26 01:18:26,389 INFO: 	FilteredRanking: evaluating rank on 1000 triples
2017-04-26 01:19:27,909 INFO: 	MEAN RANK >> valid: 632.7, train: 328.2
2017-04-26 01:19:27,909 INFO: 		MEAN RANK TRAIN: Left: 313.9 Rel: 0.0 Right: 342.5
2017-04-26 01:19:27,910 INFO: 		MEAN RANK VALID: Left: 640.2 Rel: 0.0 Right: 625.3
2017-04-26 01:19:27,910 INFO: 		MEAN RECIPROCAL RANK VALID (L & R): 0.138
2017-04-26 01:19:27,910 INFO: ======================== BEGIN TRAINING: length_2_numPaths_50000000 ========================
2017-04-26 01:22:07,356 INFO: ----------------------------------------------------------------------------
2017-04-26 01:22:07,356 INFO: EPOCH 1 (159.446 seconds):
2017-04-26 01:22:07,372 INFO: 	Average L2 norm of relation vector: 0.057
2017-04-26 01:22:07,372 INFO: 	COST >> 1.38 +/- 0.242, % updates Left: 47.1% Rel: 0.0% Right: 43.2%
2017-04-26 01:24:53,000 INFO: ----------------------------------------------------------------------------
2017-04-26 01:24:53,000 INFO: EPOCH 2 (165.628 seconds):
2017-04-26 01:24:53,001 INFO: 	Average L2 norm of relation vector: 0.05797
2017-04-26 01:24:53,001 INFO: 	COST >> 0.826 +/- 0.053, % updates Left: 35.7% Rel: 0.0% Right: 30.8%
2017-04-26 01:27:12,558 INFO: ----------------------------------------------------------------------------
2017-04-26 01:27:12,561 INFO: EPOCH 3 (139.56 seconds):
2017-04-26 01:27:12,562 INFO: 	Average L2 norm of relation vector: 0.05831
2017-04-26 01:27:12,563 INFO: 	COST >> 0.655 +/- 0.052, % updates Left: 29.5% Rel: 0.0% Right: 28.4%
2017-04-26 01:29:58,151 INFO: ----------------------------------------------------------------------------
2017-04-26 01:29:58,152 INFO: EPOCH 4 (165.589 seconds):
2017-04-26 01:29:58,152 INFO: 	Average L2 norm of relation vector: 0.05843
2017-04-26 01:29:58,153 INFO: 	COST >> 0.558 +/- 0.05, % updates Left: 27.2% Rel: 0.0% Right: 24.5%
2017-04-26 01:32:38,010 INFO: ----------------------------------------------------------------------------
2017-04-26 01:32:38,010 INFO: EPOCH 5 (159.857 seconds):
2017-04-26 01:32:38,011 INFO: 	Average L2 norm of relation vector: 0.05841
2017-04-26 01:32:38,011 INFO: 	COST >> 0.492 +/- 0.041, % updates Left: 28.7% Rel: 0.0% Right: 23.4%
2017-04-26 01:35:13,346 INFO: ----------------------------------------------------------------------------
2017-04-26 01:35:13,346 INFO: EPOCH 6 (155.335 seconds):
2017-04-26 01:35:13,347 INFO: 	Average L2 norm of relation vector: 0.05831
2017-04-26 01:35:13,347 INFO: 	COST >> 0.436 +/- 0.046, % updates Left: 23.0% Rel: 0.0% Right: 21.1%
2017-04-26 01:38:09,245 INFO: ----------------------------------------------------------------------------
2017-04-26 01:38:09,246 INFO: EPOCH 7 (175.898 seconds):
2017-04-26 01:38:09,246 INFO: 	Average L2 norm of relation vector: 0.05818
2017-04-26 01:38:09,247 INFO: 	COST >> 0.397 +/- 0.037, % updates Left: 22.3% Rel: 0.0% Right: 21.2%
2017-04-26 01:40:39,590 INFO: ----------------------------------------------------------------------------
2017-04-26 01:40:39,590 INFO: EPOCH 8 (150.343 seconds):
2017-04-26 01:40:39,591 INFO: 	Average L2 norm of relation vector: 0.05799
2017-04-26 01:40:39,591 INFO: 	COST >> 0.365 +/- 0.034, % updates Left: 22.2% Rel: 0.0% Right: 18.7%
2017-04-26 01:43:24,476 INFO: ----------------------------------------------------------------------------
2017-04-26 01:43:24,476 INFO: EPOCH 9 (164.884 seconds):
2017-04-26 01:43:24,476 INFO: 	Average L2 norm of relation vector: 0.05776
2017-04-26 01:43:24,477 INFO: 	COST >> 0.329 +/- 0.033, % updates Left: 20.2% Rel: 0.0% Right: 16.3%
2017-04-26 01:46:00,819 INFO: ----------------------------------------------------------------------------
2017-04-26 01:46:00,819 INFO: EPOCH 10 (156.342 seconds):
2017-04-26 01:46:00,819 INFO: 	Average L2 norm of relation vector: 0.05752
2017-04-26 01:46:00,820 INFO: 	COST >> 0.305 +/- 0.028, % updates Left: 19.7% Rel: 0.0% Right: 17.0%
2017-04-26 01:46:00,820 INFO: 	FilteredRanking: evaluating rank on 1000 triples
2017-04-26 01:47:08,835 INFO: 	FilteredRanking: evaluating rank on 1000 triples
2017-04-26 01:48:16,362 INFO: 	MEAN RANK >> valid: 1771.1, train: 1527.7
2017-04-26 01:48:16,363 INFO: 		MEAN RANK TRAIN: Left: 1651.0 Rel: 0.0 Right: 1404.5
2017-04-26 01:48:16,363 INFO: 		MEAN RANK VALID: Left: 2007.7 Rel: 0.0 Right: 1534.6
2017-04-26 01:48:16,363 INFO: 		MEAN RECIPROCAL RANK VALID (L & R): 0.047
2017-04-26 01:48:16,363 INFO: 	FilteredRanking: evaluating rank on 1000 triples
2017-04-26 01:49:26,452 INFO: 	NEW BEST TEST MR: 1898.8
2017-04-26 01:49:26,453 INFO: 		Left MR: 2011.9 Rel MR: 0.0 Right MR: 1785.6
2017-04-26 01:49:26,494 INFO: 	(ranking took 205.675 seconds)
2017-04-26 01:52:33,393 INFO: ----------------------------------------------------------------------------
2017-04-26 01:52:33,394 INFO: EPOCH 11 (186.9 seconds):
2017-04-26 01:52:33,395 INFO: 	Average L2 norm of relation vector: 0.05728
2017-04-26 01:52:33,396 INFO: 	COST >> 0.279 +/- 0.026, % updates Left: 14.4% Rel: 0.0% Right: 14.5%
